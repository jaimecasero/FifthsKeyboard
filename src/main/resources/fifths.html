<html lang="eng">
<head >
	<title>Circle Of Fifths Player</title>

	<!-- midi.js package -->
	<script src="https://cdn.jsdelivr.net/npm/midi.js"></script>
	<script src="fifths.js"></script>
	<link rel="stylesheet" href="fifths.css">

</head>
<body>
  <form id="settingsForm">

	<label for="outputSelect">Output:</label>
	<select id="outputSelect" onchange="changeOutput();">
	  <option value="0" selected="selected">oscillator</option>
	  <option value="1">midi</option>
	</select>

	  <label for="midiOutputSelect">Midi Device:</label>
	  <select id="midiOutputSelect" onchange="changeMidiOutput();">
	  </select>

	  <label for="midiChannelSelect">Midi Channel:</label>
	  <select id="midiChannelSelect" onchange="changeMidiChannel();">
		  <option selected="selected">0</option>
		  <option>1</option>
		  <option>2</option>
		  <option>3</option>
		  <option>4</option>
		  <option>5</option>
		  <option>6</option>
		  <option>7</option>
		  <option>8</option>
		  <option>9</option>
		  <option>10</option>
		  <option>11</option>
		  <option>12</option>
		  <option>13</option>
		  <option>14</option>
		  <option>15</option>
		  <option>16</option>
	  </select>  
  
  
	<BR>
	<label for="keySelect" >Key:</label>
	<select id="keySelect" onchange="changeKey();">
	   <option selected="selected">C</option>
	   <option >C#</option>
	   <option >D</option>
	   <option >D#</option>
	   <option >E</option>
	   <option >F</option>
	   <option >F#</option>
	   <option >G</option>
	   <option >G#</option>
	   <option >A</option>
	   <option >A#</option>
	   <option >B</option>
	  </select>

	  <label for="modeSelect">Mode:</label>
	  <select id="modeSelect" onchange="changeKey();">
		  <option value ="0" selected="selected">Ionian</option>
		  <option value="1">Dorian</option>
		  <option value="2">Phrygian</option>
		  <option value="3">Lydian</option>
		  <option value="4">Mixolydian</option>
		  <option value="5">Aeolian</option>
		  <option value="6">Locrian</option>
	  </select>

	<BR>
	<label>Octave:</label>
	<input type="radio" id="octave0" name="octaveSelect" value="0" onchange="changeOctave();"><label for="octave0">0</label>
	<input type="radio" id="octave1" name="octaveSelect" value="1" onchange="changeOctave();"><label for="octave1">1</label>
	<input type="radio" id="octave2" name="octaveSelect" value="2" onchange="changeOctave();"><label for="octave2">2</label>
	<input type="radio" id="octave3" name="octaveSelect" value="3" onchange="changeOctave();" checked><label for="octave3">3</label>
	<input type="radio" id="octave4" name="octaveSelect" value="4" onchange="changeOctave();"><label for="octave4">4</label>
	<input type="radio" id="octave5" name="octaveSelect" value="5" onchange="changeOctave();"><label for="octave5">5</label>
	<input type="radio" id="octave6" name="octaveSelect" value="6" onchange="changeOctave();"><label for="octave6">6</label>
	<input type="radio" id="octave7" name="octaveSelect" value="7" onchange="changeOctave();"><label for="octave7">7</label>
	<input type="radio" id="octave8" name="octaveSelect" value="8" onchange="changeOctave();"><label for="octave8">8</label>

  <label for="gainSelect">Gain:</label>
  <select id="gainSelect" onchange="changeGain();">
	  <option value="0.2">0.2</option>
	  <option value="0.4">0.4</option>
	  <option value="0.6">0.6</option>
	  <option value="0.8" selected>0.8</option>
	  <option value="1.0">1.0</option>
  </select>

  </form>

<canvas id="circleCanvas" width="400" height="400" onmousedown="canvasDown(event)" onmouseup="canvasUp(event)"></canvas>


<form id="displayForm">
	<label>Key Chord Grades:</label>
	<BR>
	<input type="button" id="FirstButton" name="scaleButton" value="I" onpointerdown="chordDown(event, 0)" onpointerup="chordUp(event, 0)">
	<input type="button" id="SecondButton" name="scaleButton" value="II" onpointerdown="chordDown(event, 1)" onpointerup="chordUp(event, 1)">
	<input type="button" id="ThirdButton" name="scaleButton" value="III" onpointerdown="chordDown(event, 2)" onpointerup="chordUp(event, 2)">
	<input type="button" id="ForthButton" name="scaleButton" value="IV" onpointerdown="chordDown(event, 3)" onpointerup="chordUp(event, 3)">
	<input type="button" id="FifthButton" name="scaleButton" value="V" onpointerdown="chordDown(event, 4)" onpointerup="chordUp(event, 4)">
	<input type="button" id="SixthButton" name="scaleButton" value="VI" onpointerdown="chordDown(event, 5)" onpointerup="chordUp(event, 5)">
	<input type="button" id="SeventhGradeButton" name="scaleButton" value="VII" onpointerdown="chordDown(event, 6)" onpointerup="chordUp(event, 6)">

	<BR>
	<label>Chord Modifiers:</label>
	<BR>
	<table id="chordModifierTable">
		<tr>
			<td onmousedown="changeChordModifier([0,-2,0,0])" onmouseup="resetChordModifier()">sus2</td>
			<td onmousedown="changeChordModifier([0,-1,0,0])" onmouseup="resetChordModifier()">b3</td>
			<td onmousedown="changeChordModifier([0, 1,0,0])" onmouseup="resetChordModifier()">sus4</td>
			<td onmousedown="changeChordModifier([0,0,-1,0])" onmouseup="resetChordModifier()">b5</td>
			<td onmousedown="changeChordModifier([0,0,0,10])" onmouseup="resetChordModifier()">7</td>
			<td onmousedown="changeChordModifier([0,0,0,11])" onmouseup="resetChordModifier()">Maj7</td>
			<td onmousedown="changeChordModifier([0,0,0,13])" onmouseup="resetChordModifier()">b9</td>
			<td onmousedown="changeChordModifier([0,0,0,14])" onmouseup="resetChordModifier()">9</td>
			<td onmousedown="changeChordModifier([0,0,0,15])" onmouseup="resetChordModifier()">11</td>
			<td onmousedown="changeChordModifier([0,0,0,16])" onmouseup="resetChordModifier()">#11</td>
			<td onmousedown="changeChordModifier([0,0,0,17])" onmouseup="resetChordModifier()">b13</td>
			<td onmousedown="changeChordModifier([0,0,0,18])" onmouseup="resetChordModifier()">13</td>
		</tr>
	</table>
	
	
	<BR>
	<label for="noteText0">FirstNote:</label>
	<input type="text" id="noteText0" readonly class="firstNoteClass">
	<br>
	<label for="noteText1">SecondNote:</label>
	<input type="text" id="noteText1" readonly class="secondNoteClass">
	<br>
	<label for="noteText2">Third:</label>
	<input type="text" id="noteText2" readonly class="thirdNoteClass">
	<br>
	<label for="noteText3">Forth:</label>
	<input type="text" id="noteText3" readonly class="forthNoteClass">
	
</form>

<a href="https://paypal.me/jaimecasero?country.x=ES&locale.x=es_ES">Donate</a>
</body>
</html>
